# alphacar-ingress-fe.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: alphacar-ingress-fe
  namespace: apc-fe-ns
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    # âœ… ì¤‘ìš”: ëª¨ë“  Ingressë¥¼ ì´ ê·¸ë£¹ ì´ë¦„ìœ¼ë¡œ ë¬¶ì–´ í•˜ë‚˜ì˜ ALBë¥¼ ê³µìœ í•©ë‹ˆë‹¤.
    alb.ingress.kubernetes.io/group.name: alphacar-main-alb
    # SSL(HTTPS)ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ ì£¼ì„ì„ í’€ê³  ARNì„ ì…ë ¥í•˜ì„¸ìš”.
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:ap-northeast-2:382045063773:certificate/498636a3-7ccb-4f48-820f-2f4e8948ae41
    alb.ingress.kubernetes.io/ssl-redirect: '443'

spec:
  ingressClassName: alb
  rules:
  - host: alphacar.cloud  # ğŸ‘ˆ ë„ë©”ì¸ì„ ëª…ì‹œí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend
            port:
              number: 8000
  - host: www.alphacar.cloud # ğŸ‘ˆ wwwë„ ê°™ì´ ì“°ê³  ì‹¶ë‹¤ë©´ ì¶”ê°€
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend
            port:
              number: 8000
