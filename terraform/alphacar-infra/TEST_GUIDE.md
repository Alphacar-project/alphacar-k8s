# Terraform ì½”ë“œ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## âš ï¸ ì¤‘ìš”
**í˜„ì¬ ìš´ì˜ ì¤‘ì¸ ì„œë¹„ìŠ¤ê°€ ìˆìœ¼ë¯€ë¡œ `terraform apply`ëŠ” ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”!**

## ğŸš€ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (3ë‹¨ê³„)

### Step 1: Terraform ì´ˆê¸°í™”
```bash
cd /home/ec2-user/alphacar/terraform/alphacar-infra
terraform init
```

**ì˜ˆìƒ ì‹œê°„**: 30ì´ˆ ~ 2ë¶„
- Provider ë‹¤ìš´ë¡œë“œ (AWS, Kubernetes, Helm)
- ëª¨ë“ˆ ì´ˆê¸°í™”

**ì„±ê³µ ë©”ì‹œì§€**: `Terraform has been successfully initialized!`

### Step 2: ë¬¸ë²• ê²€ì¦ (ê°€ì¥ ì•ˆì „)
```bash
terraform validate
```

**ê¸°ëŠ¥**:
- âœ… AWS API í˜¸ì¶œ ì—†ìŒ
- âœ… ì½”ë“œ ë¬¸ë²•ë§Œ ê²€ì¦
- âœ… ë³€ìˆ˜, ë¦¬ì†ŒìŠ¤ ì°¸ì¡° ì˜¤ë¥˜ í™•ì¸

**ì„±ê³µ ë©”ì‹œì§€**: `Success! The configuration is valid.`

### Step 3: ì½”ë“œ í¬ë§·íŒ… í™•ì¸
```bash
terraform fmt -check -recursive
```

**ê¸°ëŠ¥**:
- âœ… íŒŒì¼ ë³€ê²½ ì—†ìŒ (-check ì˜µì…˜)
- âœ… í¬ë§·íŒ… ìƒíƒœë§Œ í™•ì¸

**ì„±ê³µ**: ì¶œë ¥ ì—†ìŒ (ëª¨ë“  íŒŒì¼ì´ ì˜¬ë°”ë¥¸ í¬ë§·)

## ğŸ“‹ ìë™ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

### ì „ì²´ í…ŒìŠ¤íŠ¸ (ê¶Œì¥)
```bash
./test.sh
```

**í™•ì¸ í•­ëª©**:
- íŒŒì¼ êµ¬ì¡°
- Terraform ì´ˆê¸°í™”
- ë¬¸ë²• ê²€ì¦
- í¬ë§·íŒ… í™•ì¸
- ëª¨ë“ˆ ì˜ì¡´ì„±
- ë³€ìˆ˜ ë° Provider í™•ì¸

### ë¬¸ë²• ê²€ì¦ë§Œ (ê°€ì¥ ë¹ ë¦„)
```bash
./validate-only.sh
```

## âš ï¸ ì£¼ì˜: terraform plan

```bash
terraform plan
```

**ì£¼ì˜ì‚¬í•­**:
- âš ï¸ AWS APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
- ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤
- ë¦¬ì†ŒìŠ¤ëŠ” ìƒì„±í•˜ì§€ ì•Šì§€ë§Œ, ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ ì¶©ëŒí•˜ë©´ ì˜¤ë¥˜ ë°œìƒ
- **ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ê¶Œì¥**

## âŒ ì ˆëŒ€ ì‹¤í–‰í•˜ì§€ ë§ì•„ì•¼ í•  ëª…ë ¹ì–´

### terraform apply
```bash
terraform apply
```
- âŒ ì‹¤ì œ ë¦¬ì†ŒìŠ¤ ìƒì„± ì‹œë„
- ê¸°ì¡´ ì¸í”„ë¼ì™€ ì¶©ëŒ ê°€ëŠ¥ì„± ë†’ìŒ
- ë‹¤ìš´íƒ€ì„ ë°œìƒ ê°€ëŠ¥

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `terraform init` ì„±ê³µ
- [ ] `terraform validate` ì„±ê³µ
- [ ] `terraform fmt -check` í†µê³¼
- [ ] ëª¨ë“  ëª¨ë“ˆì´ ì˜¬ë°”ë¥´ê²Œ ì—°ê²°ë¨
- [ ] ë³€ìˆ˜ ì •ì˜ ì™„ë£Œ

## ğŸ¯ ê¶Œì¥ í…ŒìŠ¤íŠ¸ ìˆœì„œ

```bash
# 1. ì´ˆê¸°í™”
terraform init

# 2. ë¬¸ë²• ê²€ì¦ (ê°€ì¥ ì•ˆì „)
terraform validate

# 3. í¬ë§·íŒ… í™•ì¸
terraform fmt -check -recursive

# 4. (ì„ íƒ) ì „ì²´ í…ŒìŠ¤íŠ¸
./test.sh
```

## ğŸ’¡ ë¬¸ì œ í•´ê²°

### terraform init ì‹¤íŒ¨
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
- ì¸í„°ë„· ì ‘ê·¼ ê°€ëŠ¥í•œì§€ í™•ì¸
- Provider ë‹¤ìš´ë¡œë“œ ê¶Œí•œ í™•ì¸

### terraform validate ì‹¤íŒ¨
- ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸
- ë³€ìˆ˜ ì •ì˜ í™•ì¸
- ë¦¬ì†ŒìŠ¤ ì°¸ì¡° í™•ì¸

### í¬ë§·íŒ… ì˜¤ë¥˜
```bash
# ìë™ ìˆ˜ì • (ì£¼ì˜: íŒŒì¼ ë³€ê²½ë¨)
terraform fmt -recursive
```
